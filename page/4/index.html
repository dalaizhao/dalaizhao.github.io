<!DOCTYPE html>
<html lang="zh-CN">
  <head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">

<meta name="theme-color" content="#f8f5ec">
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<link rel="alternate" href="/atom.xml" title="k先生"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=2.11.0">
<link rel="canonical" href="http://yoursite.com/page/4/">

<link rel="stylesheet" type="text/css" href="/lib/fancybox/jquery.fancybox.css"><link rel="stylesheet" type="text/css" href="/lib/nprogress/nprogress.min.css">
<link rel="stylesheet" type="text/css" href="/css/style.css?v=2.11.0">

<script id="baidu_push">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<script>
  window.config = {"leancloud":{"app_id":null,"app_key":null},"toc":true,"fancybox":true,"pjax":true,"latex":false};
</script>

    <title>k先生</title>
  </head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">k先生</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list"><a href="/">
        <li class="mobile-menu-item">首页
          </li>
      </a><a href="/archives/">
        <li class="mobile-menu-item">归档
          </li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">标签
          </li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">分类
          </li>
      </a><a href="/about/">
        <li class="mobile-menu-item">关于
          </li>
      </a></ul>
</nav>
<div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">k先生</a>
</div>

<nav class="site-navbar"><ul id="menu" class="menu"><li class="menu-item">
          <a class="menu-item-link" href="/">
            首页
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/archives/">
            归档
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/tags/">
            标签
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/categories/">
            分类
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/about/">
            关于
            </a>
        </li>
      </ul></nav>
</header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content"><section id="posts" class="posts"><article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/p/ea70.html">git命令收集</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2018-01-20
        </span><span class="post-category">
            <a href="/categories/git/">git</a>
            </span>
        <span class="post-visits" title="post.wordcount">
          字 1.6k
        </span>
        <span class="post-visits" title="post.min2read">
          阅读时长 6 min
        </span>
        </div>
    </header>

    <div class="post-content"><p>git命令收集，要用时就怕忘记，备份一份。   </p>
<p><img src="https://raw.githubusercontent.com/dalaizhao/picture-bed/master/pic2019/git-home-1.png" alt="git">  </p>
<ul>
<li>Workspace：工作区</li>
<li>Index / Stage：暂存区</li>
<li>Repository：仓库区（或本地仓库）</li>
<li>Remote：远程仓库</li>
</ul>
<h2 id="新建代码库"><a href="#新建代码库" class="headerlink" title="新建代码库"></a>新建代码库</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> 在当前目录新建一个Git代码库</span><br><span class="line"><span class="meta">$</span> git init</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> 新建一个目录，将其初始化为Git代码库</span><br><span class="line"><span class="meta">$</span> git init [project-name]</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> 下载一个项目和它的整个代码历史</span><br><span class="line"><span class="meta">$</span> git clone [url]</span><br></pre></td></tr></table></figure>
          <div class="read-more">
            <a href="/p/ea70.html" class="read-more-link">阅读更多</a>
          </div>
        </div></article>
      <article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/p/56c8.html">Jedis API 详细示例</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2018-01-16
        </span><span class="post-category">
            <a href="/categories/redis/">redis</a>
            </span>
        <span class="post-visits" title="post.wordcount">
          字 4.6k
        </span>
        <span class="post-visits" title="post.min2read">
          阅读时长 21 min
        </span>
        </div>
    </header>

    <div class="post-content"><h2 id="Redis-简介"><a href="#Redis-简介" class="headerlink" title="Redis 简介"></a>Redis 简介</h2><p>Redis 是完全开源免费的，遵守BSD协议，是一个高性能的key-value数据库。  </p>
<p>Redis 与其他 key - value 缓存产品有以下三个特点：  </p>
<ul>
<li>Redis支持数据的持久化，可以将内存中的数据保存在磁盘中，重启的时候可以再次加载进行使用。  </li>
<li>Redis不仅仅支持简单的key-value类型的数据，同时还提供list，set，zset，hash等数据结构的存储。  </li>
<li>Redis支持数据的备份，即master-slave模式的数据备份。  </li>
</ul>
<h2 id="Redis-优势"><a href="#Redis-优势" class="headerlink" title="Redis 优势"></a>Redis 优势</h2><ul>
<li>性能极高 – Redis能读的速度是110000次/s,写的速度是81000次/s 。</li>
<li>丰富的数据类型 – Redis支持二进制案例的 Strings, Lists, Hashes, Sets 及 Ordered Sets 数据类型操作。    </li>
<li>原子 – Redis的所有操作都是原子性的，意思就是要么成功执行要么失败完全不执行。单个操作是原子性的。多个操作也支持事务，即原子性，通过MULTI和EXEC指令包起来。</li>
<li>丰富的特性 – Redis还支持 publish/subscribe, 通知, key 过期等等特性。</li></ul>
          <div class="read-more">
            <a href="/p/56c8.html" class="read-more-link">阅读更多</a>
          </div>
        </div></article>
      <article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/p/91ef.html">Apache Spark LDA 官方文档</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2018-01-03
        </span><span class="post-category">
            <a href="/categories/Apache-Spark/">Apache Spark</a>
            </span>
        <span class="post-visits" title="post.wordcount">
          字 2.1k
        </span>
        <span class="post-visits" title="post.min2read">
          阅读时长 9 min
        </span>
        </div>
    </header>

    <div class="post-content"><p>学习[spark lda]<a href="https://spark.apache.org/docs/latest/mllib-clustering.html#latent-dirichlet-allocation-lda()" target="_blank" rel="noopener">https://spark.apache.org/docs/latest/mllib-clustering.html#latent-dirichlet-allocation-lda()</a> 英文文档,为了学习方便顺便翻译了。   </p>
<h2 id="理论参数"><a href="#理论参数" class="headerlink" title="理论参数"></a>理论参数</h2><p>狄利克雷分配（Latent Dirichlet allocation LDA）是一个从文本文献集合中推断主题的主题模型。   </p>
<p>LDA可以被认为是如下的聚类算法：</p>
<ul>
<li>主题对应于聚类中心，文档对应于数据集中的示例（数据行）。 </li>
<li>主题和文档都存在于特征空间中，其中特征向量是词计数的向量（词袋）。 </li>
<li>LDA不是使用传统距离来估计聚类，而是使用基于文本文档如何生成的统计模型的函数。</li>
</ul>
<p>LDA通过setOptimizer函数支持不同的推理算法。 EMLDAOptimizer利用似然函数的期望最大化来学习聚类，并产生综合结果，而OnlineLDAOptimizer使用迭代小批量采样进行在线变分推理，并且通常是内存友好的。  </p>
<p>LDA将文档集合作为词计数的向量和以下参数（使用构建器模式进行设置）：    </p>
          <div class="read-more">
            <a href="/p/91ef.html" class="read-more-link">阅读更多</a>
          </div>
        </div></article>
      <article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/p/c3f7.html">Apache Spark 官方文档 编程指南</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2018-01-03
        </span><span class="post-category">
            <a href="/categories/Apache-Spark/">Apache Spark</a>
            </span>
        <span class="post-visits" title="post.wordcount">
          字 9.5k
        </span>
        <span class="post-visits" title="post.min2read">
          阅读时长 34 min
        </span>
        </div>
    </header>

    <div class="post-content"><p>最近用Apache Spark 处理一些大数据，学了spark官方英文文档，顺便翻译了方便学习。   </p>
<p>spark 版本 2.2.0.   </p>
<p>翻译官方文档原地址：<br><a href="http://spark.apache.org/docs/latest/rdd-programming-guide.html" target="_blank" rel="noopener">http://spark.apache.org/docs/latest/rdd-programming-guide.html</a>    </p>
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>在较高层次上，每个Spark应用程序都包含一个驱动程序，该程序运行用户的<code>main</code>方法，并在集群上执行各种并行操作。 Spark提供的主要抽象是一个弹性分布式数据集（RDD），它是在集群节点间进行分区的元素集合，可以并行操作。 RDD是通过从Hadoop文件系统（或任何其他Hadoop支持的文件系统）中的文件或驱动程序中现有的Scala集合开始创建的，并对其进行转换。用户也可以要求Spark将RDD保存在内存中，以便在并行操作中有效地重用它。最后，RDD自动从节点故障中恢复。    </p>
<p>Spark中的第二个抽象是可用于并行操作的共享变量。默认情况下，Spark在不同节点上并行执行一组任务时，会将该函数中使用的每个变量的副本传送给每个任务。有时候，变量需要在任务之间，或任务与驱动程序之间共享。   </p>
<p>Spark支持两种类型的共享变量：广播变量，可用于在所有节点上缓存内存中的值，以及累加器，这些变量只是“添加”到的变量，如计数器和总和。    </p>
          <div class="read-more">
            <a href="/p/c3f7.html" class="read-more-link">阅读更多</a>
          </div>
        </div></article>
      <article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/p/a947.html">thrift 服务端返回null</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2018-01-03
        </span><span class="post-category">
            <a href="/categories/微服务/">微服务</a>
            </span>
        <span class="post-visits" title="post.wordcount">
          字 247
        </span>
        <span class="post-visits" title="post.min2read">
          阅读时长 1 min
        </span>
        </div>
    </header>

    <div class="post-content"><p>强大、牛X的RPC框架 - thrift，就没怂过！   </p>
<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>在用thrift做RPC框架存在服务端有时需要返回null 的情况，这时客户端就报 org.apache.thrift.TApplicationException: detectEvent failed: unknown result 异常。    </p>
<h2 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h2><p>点击去，查看service类时发现thrift 服务端返回null时，会抛出异常，也就是不接受null的情况。   </p>
          <div class="read-more">
            <a href="/p/a947.html" class="read-more-link">阅读更多</a>
          </div>
        </div></article>
      <article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/p/314b.html">jar包详情</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2018-01-03
        </span><span class="post-category">
            <a href="/categories/java/">java</a>
            </span>
        <span class="post-visits" title="post.wordcount">
          字 2k
        </span>
        <span class="post-visits" title="post.min2read">
          阅读时长 7 min
        </span>
        </div>
    </header>

    <div class="post-content"><p>java jar包 常用来运行java程序的压缩包。今天就来看看内幕。       </p>
<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>维基百科</p>
<blockquote>
<p>在软件领域，JAR文件（Java归档，英语：Java ARchive）是一种软件包文件格式，通常用于聚合大量的Java类文件、相关的元数据和资源（文本、图片等）文件到一个文件，以便分发Java平台应用软件或库。<br>JAR文件是一种归档文件，以ZIP格式构建，以.jar为文件扩展名。用户可以使用JDK自带的jar命令创建或提取JAR文件。也可以使用其他zip压缩工具，不过压缩时zip文件头里的条目顺序很重要，因为Manifest资源配置文件常需放在首位。JAR文件内的文件名是Unicode文本。  </p>
</blockquote>
<p>JAR 文件可以用于：  </p>
<ul>
<li>用于发布和使用类库</li>
<li>作为应用程序和扩展的构建单元</li>
<li>作为组件、applet或者插件程序的部署单位</li>
<li>用于打包与组件有关联的辅助资源</li></ul>
          <div class="read-more">
            <a href="/p/314b.html" class="read-more-link">阅读更多</a>
          </div>
        </div></article>
      <article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/p/f2d.html">关于SimpleDateFormat 线程不安全</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2018-01-03
        </span><span class="post-category">
            <a href="/categories/java/">java</a>
            </span>
        <span class="post-visits" title="post.wordcount">
          字 519
        </span>
        <span class="post-visits" title="post.min2read">
          阅读时长 2 min
        </span>
        </div>
    </header>

    <div class="post-content"><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>java 程序都常用SimpleDateFormat 和 DateFormat 工具类，用来字符串和时间对象的相互转换，多线程环境下共享使用SimpleDateFormat 时，format() 和 parese() 方法会出下面出错。<br>实际开发中遇到的错误：  </p>
          <div class="read-more">
            <a href="/p/f2d.html" class="read-more-link">阅读更多</a>
          </div>
        </div></article>
      <article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/p/413a.html">Apache Thrift 官方 java教程</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2018-01-03
        </span><span class="post-category">
            <a href="/categories/微服务/">微服务</a>
            </span>
        <span class="post-visits" title="post.wordcount">
          字 988
        </span>
        <span class="post-visits" title="post.min2read">
          阅读时长 4 min
        </span>
        </div>
    </header>

    <div class="post-content"><h2 id="Apache-Thrift"><a href="#Apache-Thrift" class="headerlink" title="Apache Thrift"></a>Apache Thrift</h2><blockquote>
<p>维基百科<br>Thrift是一种接口描述语言和二进制通讯协议，它被用来定义和创建跨语言的服务。它被当作一个远程过程调用（RPC）框架来使用，是由Facebook为“大规模跨语言服务开发”而开发的。   </p>
</blockquote>
<p>最近用 thrift 做微服务 ， 抽空写了通俗易懂 apache thrift 官方java 教程 中文版。   </p>
<h2 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h2><ol>
<li>添加依赖    </li>
</ol>
<p>官网有复杂的安装thrift和编译的过程，复杂多余，最终目的还是要转成jar包，添加maven依赖。不过现在已经有maven依赖的，省去了编译打包jar包过程。一个maven依赖就可以加载进来所有需要的jar包。    </p>
          <div class="read-more">
            <a href="/p/413a.html" class="read-more-link">阅读更多</a>
          </div>
        </div></article>
      <article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/p/7dd5.html">统计日志里某时间段内访问最的ip</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2018-01-03
        </span><span class="post-category">
            <a href="/categories/linux/">linux</a>
            </span>
        <span class="post-visits" title="post.wordcount">
          字 207
        </span>
        <span class="post-visits" title="post.min2read">
          阅读时长 1 min
        </span>
        </div>
    </header>

    <div class="post-content"><p>今天某时间段服务出现异常，需要统计某段时间内请求最多的ip，查看是否有人添加了服务，学习了运维大牛，并且在此记录分享。    </p>
<p>命令：    </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#按时间段统计</span><br><span class="line">sed -n &apos;/10:35:00/,/11:11:00/p&apos; access.log | awk &apos;&#123;print $1&#125;&apos;|sort|uniq -c|sort -n -r |head -n 20</span><br></pre></td></tr></table></figure>

<p>日志格式：    </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">10.90.11.10 - 5000 - [27/Nov/2017:17:45:55 +0800]</span><br></pre></td></tr></table></figure>
          <div class="read-more">
            <a href="/p/7dd5.html" class="read-more-link">阅读更多</a>
          </div>
        </div></article>
      <article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/p/cd69.html">java 内存模型</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2017-11-09
        </span><span class="post-category">
            <a href="/categories/java/">java</a>
            </span>
        <span class="post-visits" title="post.wordcount">
          字 3.1k
        </span>
        <span class="post-visits" title="post.min2read">
          阅读时长 11 min
        </span>
        </div>
    </header>

    <div class="post-content"><p>学习程晓明的《深入理解Java内存模型》。   </p>
<h2 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h2><p>文章内容有并发、内存模型、重排序、内存屏障、happens-before规则、as-if-serial语义、顺序一致性内存模型、volatile、锁、final。</p>
<h2 id="并发"><a href="#并发" class="headerlink" title="并发"></a>并发</h2><p>并发需要处理的两个关键问题：线程之间通信和同步</p>
<p>通信：是指线程之间以何种机制来交换信息；在命令式编程中，通信机制有两种，共享内存和消息传递。   </p>
<p>同步：是指程序用于控制不同线程之间操作发生相对顺序的机制。  </p>
          <div class="read-more">
            <a href="/p/cd69.html" class="read-more-link">阅读更多</a>
          </div>
        </div></article>
      <nav class="pagination"><a class="prev" href="/page/3/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text">上一页</span>
      </a>
    <a class="next" href="/page/5/">
        <span class="next-text">下一页</span>
        <i class="iconfont icon-right"></i>
      </a>
    </nav></section></div>
</div>
      </main>

      <footer id="footer" class="footer"><div class="social-links"><a href="mailto:publicreturn@163.com" class="iconfont icon-email" title="email"></a>
        <a href="https://github.com/dalaizhao" class="iconfont icon-github" title="github"></a>
        </div><div class="copyright">
  <span class="copyright-year">&copy;2017 - 2019<span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">k先生</span>
  </span>
</div>
</footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>
    
<!-- valine Comments -->
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="//cdn.jsdelivr.net/gh/xcss/valine@v1.1.7/dist/Valine.min.js"></script>
<script type="text/javascript">
    new Valine({
        el: '#vcomments',
        notify: false,
        verify: false,
        app_id: "4zFH7aq8sRLfv16OtB5dOLND-gzGzoHsz",
        app_key: "4TS0u6RkSOiLLjWegSfGGQLb",
        placeholder: "世界辣么大，留个痕迹哟哦哦～",
        avatar: 'mm'
    });
</script>

<script type="text/javascript" src="/lib/jquery/jquery.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/lib/pjax/jquery.pjax.min.js"></script>
  <script type="text/javascript" src="/lib/nprogress/nprogress.min.js"></script>
  <script type="text/javascript" src="/js/src/even.js?v=2.11.0"></script>
</body>
</html>
